{"version":3,"sources":["actions/types.js","utils/setAuthToken.js","actions/upload.js","actions/auth.js","components/Navbar.js","components/Login.js","components/Register.js","components/FileUpload.js","reducers/auth.js","components/route/PrivateRoute.js","components/DisplayImage.js","reducers/upload.js","reducers/index.js","store.js","App.js","reportWebVitals.js","index.js"],"names":["REGISTER_SUCCESS","REGISTER_FAIL","TOKEN_LOADED","AUTH_ERROR","LOGIN_SUCCESS","LOGIN_ERROR","LOGOUT","IMGURI","UPLOAD_ERROR","LOAD_IMAGE","ERR_LOAD_IMG","setAuthToken","token","axios","defaults","headers","common","loadImage","dispatch","a","get","res","type","payload","data","loadToken","localStorage","getItem","connect","state","auth","logout","isAuthenticated","loading","useState","click","setClick","setButton","closeMobileMenu","showButton","window","innerWidth","guestLinks","className","to","onClick","style","textDecoration","authLinks","useEffect","addEventListener","login","email","password","config","body","post","errors","response","error","console","log","forEach","formData","setFormData","onChange","e","target","name","value","onSubmit","preventDefault","placeholder","required","register","href","imguri","upload","uploadImage","file","setFile","filename","setFilename","uploadedFile","FormData","append","id","files","htmlFor","fileName","width","src","filePath","alt","initialState","PrivateRoute","Component","component","rest","render","props","prototype","PropTypes","object","isRequired","imgURI","combineReducers","action","setItem","msg","removeItem","actions","middlewares","thunkMiddleware","composedEnhancer","composeWithDevTools","applyMiddleware","store","createStore","rootReducer","App","path","Register","exact","Login","FileUpload","DisplayImage","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.38e5e5ff.chunk.js","sourcesContent":["export const REGISTER_SUCCESS = 'REGISTER_SUCCESS'\nexport const REGISTER_FAIL = 'REGISTER_FAIL'\nexport const TOKEN_LOADED = 'TOKEN_LOADED'\nexport const AUTH_ERROR = 'AUTH_ERROR'\nexport const LOGIN_SUCCESS = 'LOGIN_SUCCESS'\nexport const LOGIN_ERROR = 'LOGIN_ERROR'\nexport const LOGOUT = 'LOGOUT'\nexport const IMGURI = 'IMGURI'\nexport const UPLOAD_ERROR = 'UPLOAD_ERROR'\nexport const LOAD_IMAGE = 'LOAD_IMAGE'\nexport const ERR_LOAD_IMG = 'ERR_LOAD_IMG'","import axios from 'axios'\n\nconst setAuthToken = (token) => {\n    if(token) {\n        axios.defaults.headers.common['Authorization'] = token\n    }\n    else {\n        delete axios.defaults.headers.common['Authorization']\n    }\n}\n\nexport default setAuthToken","import { IMGURI, UPLOAD_ERROR, LOAD_IMAGE, ERR_LOAD_IMG } from './types'\nimport axios from 'axios'\n\n// upload image\nexport const uploadImage = (data) => async dispatch => {\n    const config = {\n        headers: {\n            'Content-Type': 'multipart/form-data'\n        }\n    }\n\n    try {\n        const res = await axios.post('/upload', data, config)\n        dispatch({\n            type: IMGURI,\n            payload: res.data\n        })\n    }\n    catch {\n        dispatch({\n            type: UPLOAD_ERROR\n        })\n    }\n}\n\nexport const loadImage = () => async dispatch => {\n    try {\n        const res = await axios.get('/loadimage')\n        dispatch({\n            type: LOAD_IMAGE,\n            payload: res.data\n        })\n    }\n    catch {\n        dispatch({\n            type: ERR_LOAD_IMG\n        })\n    }\n}","import { REGISTER_FAIL, REGISTER_SUCCESS, TOKEN_LOADED, AUTH_ERROR, LOGIN_SUCCESS, LOGIN_ERROR,LOGOUT } from './types'\nimport axios from 'axios'\nimport setAuthToken from '../utils/setAuthToken'\nimport { loadImage } from './upload'\n\n// Load User\nexport const loadToken = () => async dispatch => {\n    const token = localStorage.getItem('token')\n    if(token) {\n        setAuthToken(token)\n        dispatch({\n            type: TOKEN_LOADED,\n            payload: token\n        })\n    }\n    else {\n        dispatch({\n            type: AUTH_ERROR,\n        })\n    }\n\n}\n\n//Login\nexport const login = (email, password) => async dispatch => {\n    const config = {\n        headers: {\n            'Content-Type': 'Application/json'\n        }\n    }\n\n    const body = {\n        email,\n        password\n    }\n\n    try {\n        const res = await axios.post('/login', body, config)\n        // console.log(res)\n        // res.data.token = res.data.msg\n\n        dispatch({\n            type: LOGIN_SUCCESS,\n            payload: res.data\n        })\n\n        dispatch(loadToken())\n        dispatch(loadImage())\n    }\n    catch(err) {\n        const errors = err.response.data.error\n        console.log(errors)\n\n        if(errors) {\n            errors.forEach((error) => {\n                // dispatch(setAlert(error.msg, 'danger'))\n            })\n        }\n\n        dispatch({\n            type: LOGIN_ERROR\n        })\n    }\n}\n\n// Register\nexport const register = (email, password) => async dispatch => {\n    const config = {\n        headers: {\n            'Content-Type': 'application/json'\n        }\n    } \n\n    const body = {\n        email,\n        password\n    }\n\n    try {\n        const res = await axios.post('/register', body, config)\n        console.log(res)\n\n        dispatch({\n            type: REGISTER_SUCCESS,\n            payload: res.data\n        })\n\n        dispatch(loadToken())\n    }\n    catch(err) {\n        const errors = err.response.data.errors\n        // console.log(errors)\n\n        if (errors) {\n            errors.forEach(error => {\n                // dispatch(setAlert(error.msg, 'danger'))\n            });\n        }\n\n        dispatch({\n            type: REGISTER_FAIL\n        })\n    }\n    \n}\n\n//LOGOUT\nexport const logout = () => dispatch => {\n    dispatch({\n        type: LOGOUT\n    })\n}","import React, { useState, useEffect, Fragment } from 'react';\nimport { Link } from 'react-router-dom';\nimport PropTypes from 'prop-types'\nimport { logout } from '../actions/auth'\nimport { connect } from 'react-redux'\nimport './Navbar.css';\n\nfunction Navbar({auth:{isAuthenticated, loading}, logout}) {\n    const [click, setClick] = useState(false);\n    const [button, setButton] = useState(true);\n\n    const handleClick = () => setClick(!click);\n    const closeMobileMenu = () => setClick(false);\n\n    const showButton = () => {\n        if (window.innerWidth <= 960) {\n        setButton(false);\n        } else {\n        setButton(true);\n        }\n    };\n\n    const guestLinks = (\n        <Fragment>\n            <li className='nav-item'>\n                <Link to='/register' className='nav-links' onClick={closeMobileMenu} style={{ textDecoration: 'none' }}>\n                    Register\n                </Link>\n            </li>\n            <li className='nav-item'>\n                <Link\n                    to='/login'\n                    className='nav-links'\n                    style={{ textDecoration: 'none' }}\n                    onClick={closeMobileMenu}\n                >\n                Login\n                </Link>\n            </li>\n        </Fragment>\n    )\n\n    const authLinks = (\n        <Fragment>\n            <li className='nav-item'>\n                <Link\n                    to='/upload'\n                    className='nav-links'\n                    style={{ textDecoration: 'none' }}\n                    onClick={closeMobileMenu}\n                >\n                Upload\n                </Link>\n            </li>\n            <li className='nav-item'>\n                <Link\n                    to='/display'\n                    className='nav-links'\n                    style={{ textDecoration: 'none' }}\n                    onClick={() => {\n                        closeMobileMenu()\n                    }}\n                >\n                Uploaded Pic\n                </Link>\n            </li>\n            <li className='nav-item'>\n                <a\n                    className='nav-links'\n                    style={{ textDecoration: 'none' }}\n                    onClick={() => {\n                        closeMobileMenu()\n                        logout()\n                    }}\n                >\n                Logout\n                </a>\n            </li>\n        </Fragment>\n    )\n\n    useEffect(() => {\n        showButton();\n    }, []);\n\n    window.addEventListener('resize', showButton);\n\n    return (\n        <>\n            <nav className='navbar'>\n                <div className='navbar-container'>\n                <div className='navbar-logo' onClick={closeMobileMenu}>\n                    MRay\n                </div>\n                <div className='menu-icon' onClick={handleClick}>\n                    <i className={click ? 'fas fa-times' : 'fas fa-bars'} />\n                </div>\n                <ul className={click ? 'nav-menu active' : 'nav-menu'}>\n                    {!loading&&(<Fragment>{isAuthenticated?authLinks:guestLinks}</Fragment>)}\n                </ul>\n                </div>\n            </nav>\n        </>\n    );\n}\n\nconst mapStateToProp = state => ({\n    auth: state.auth\n})\n\nNavbar.propTypes = {\n    logout: PropTypes.func.isRequired,\n    auth: PropTypes.object.isRequired,\n}\n\nexport default connect(mapStateToProp ,{logout})(Navbar);\n","import React, { useState } from \"react\";\nimport { Redirect } from 'react-router-dom'\nimport { login } from '../actions/auth'\nimport PropTypes from 'prop-types'\nimport { connect } from 'react-redux'\nimport './Login.css';\n\nconst Login = ({isAuthenticated, login}) => {\n    const [formData, setFormData] = useState({\n        email: '',\n        password: ''\n    })\n\n    const {email, password} = formData\n\n    const onChange = async (e) => {\n        setFormData({...formData, [e.target.name]: e.target.value})\n    }\n\n    const onSubmit = async (e) => {\n        e.preventDefault()\n        login(email, password)\n    }\n\n    if(isAuthenticated) {\n        return (<Redirect to='/upload' />)\n    }\n\n    return (\n        <form className=\"formLabel\" onSubmit={e => {onSubmit(e)}}>\n            <h3>Sign In</h3>\n\n            <div className=\"form-group\">\n                <label>Email address</label>\n                <input type=\"email\" className=\"form-control\" placeholder=\"Enter email\" name='email' value={email} onChange={e => onChange(e)} required/>\n            </div>\n\n            <div className=\"form-group\">\n                <label>Password</label>\n                <input type=\"password\" className=\"form-control\" placeholder=\"Enter password\" name='password' value={password} onChange={e => {onChange(e)}}/>\n            </div>\n            <button type=\"submit\" className=\"btn btn-primary btn-block\">Sign In</button>\n        </form>\n    );\n}\n\nconst mapStateToProp = state => ({\n    isAuthenticated: state.auth.isAuthenticated\n})\n\nLogin.propTypes = {\n    login: PropTypes.func.isRequired,\n    isAuthenticated: PropTypes.bool.isRequired,\n}\n\nexport default connect(mapStateToProp ,{login})(Login)","import React, { useState } from \"react\";\nimport PropTypes from 'prop-types'\nimport { register } from '../actions/auth'\nimport { connect } from 'react-redux'\nimport './Register.css';\nimport { Redirect } from \"react-router-dom\";\n\nconst Register = ({isAuthenticated, register}) => {\n    const [formData, setFormData] = useState({\n        email: '',\n        password: ''\n    })\n\n    const {email, password} = formData\n\n    const onChange = async (e) => {\n        setFormData({...formData, [e.target.name]: e.target.value})\n    }\n\n    const onSubmit = async (e) => {\n        e.preventDefault()\n        register(email, password)\n    }\n\n    if(isAuthenticated) {\n        return <Redirect to='/upload'/>\n    }\n\n    return (\n        <form className=\"formLabel\" onSubmit={e => onSubmit(e)}>\n            <h3>Sign Up</h3>\n            <div className=\"form-group\">\n                <label>Email address</label>\n                <input type=\"email\" className=\"form-control\" placeholder=\"Enter email\" name='email' value={email} onChange={e => onChange(e)}/>\n            </div>\n\n            <div className=\"form-group\">\n                <label>Password</label>\n                <input type=\"password\" className=\"form-control\" placeholder=\"Enter password\" name='password' value={password} onChange={e => onChange(e)}/>\n            </div>\n\n            <button type=\"submit\" className=\"btn btn-primary btn-block\">Sign Up</button>\n            <p className=\"forgot-password text-right\">\n                Already registered <a href=\"/login\">sign in?</a>\n            </p>\n        </form>\n    );\n}\n\nconst mapStateToProp = state => ({\n    isAuthenticated : state.auth.isAuthenticated\n})\n\nRegister.propTypes = {\n    isAuthenticated: PropTypes.bool.isRequired,\n    register: PropTypes.func.isRequired,\n}\n\nexport default connect(mapStateToProp, {register})(Register)","import React, { Fragment, useState } from 'react';\nimport { uploadImage } from '../actions/upload'\nimport { Redirect } from 'react-router-dom'\nimport PropTypes from 'prop-types'\nimport { connect } from 'react-redux'\nimport './Login.css';\n\nconst FileUpload = ({imguri, uploadImage}) => {\n  const [file, setFile] = useState('');\n  const [filename, setFilename] = useState('Choose File');\n  const [uploadedFile, setUploadedFile] = useState({});\n  \n\n  const onChange = e => {\n    setFile(e.target.files[0]);\n    setFilename(e.target.files[0].name);\n  };\n\n  const onSubmit = async e => {\n    e.preventDefault();\n    const formData = new FormData();\n    formData.append('file', file);\n    formData.append('filename', filename);\n    // console.log(file);\n    uploadImage(formData)\n  };\n\n  if(imguri !== null) {\n    return <Redirect to='/uploadedpic'/>\n  }\n\n  return (\n    <Fragment>\n        <form onSubmit={onSubmit} className=\"formLabel\">\n            <div className='custom-file mb-4'>\n            <input\n                type='file'\n                className='custom-file-input'\n                id='customFile'\n                onChange={onChange}\n            />\n            <label className='custom-file-label' htmlFor='customFile'>\n                {filename}\n            </label>\n            </div>\n\n        \n            <input\n            type='submit'\n            value='Upload'\n            className='btn btn-primary btn-block mt-4'\n            />\n        </form>\n        {uploadedFile ? (\n            <div className='row mt-5'>\n            <div className='col-md-6 m-auto'>\n                <h3 className='text-center'>{uploadedFile.fileName}</h3>\n                <img style={{ width: '100%' }} src={uploadedFile.filePath} alt='' />\n            </div>\n            </div>\n        ) : null}\n    </Fragment>\n  );\n};\n\nconst mapStateToProp = state => ({\n    imguri: state.upload.imguri\n})\n\nFileUpload.propTypes = {\n    uploadImage: PropTypes.func.isRequired,\n}\n\nexport default connect(mapStateToProp, {uploadImage})(FileUpload);","import { REGISTER_SUCCESS, REGISTER_FAIL, TOKEN_LOADED, AUTH_ERROR, LOGIN_SUCCESS, LOGIN_ERROR, LOGOUT } from '../actions/types'\n\nconst initialState = {\n    token: localStorage.getItem('token'),\n    loading: true,\n    isAuthenticated: false\n}\n\nexport default (state=initialState, action) => {\n    const { type, payload } = action\n\n    switch(type) {\n        case TOKEN_LOADED:\n            return {\n                ...state,\n                token: payload,\n                isAuthenticated: true,\n                loading: false,\n            }\n        case REGISTER_SUCCESS:\n        case LOGIN_SUCCESS:\n            localStorage.setItem('token', payload.msg)\n            return {\n                ...state,\n                token: payload.msg,\n                isAuthenticated : true,\n                loading: false\n            }\n        case AUTH_ERROR:\n        case REGISTER_FAIL:\n        case LOGIN_ERROR: \n        case LOGOUT:\n            localStorage.removeItem('token')\n            return {\n                ...state,\n                token: null,\n                isAuthenticated: false,\n                loading: false\n            }\n        default:\n            return state\n    }\n}","import React from 'react'\nimport { connect } from 'react-redux'\nimport { Route, Redirect } from 'react-router-dom'\nimport PropTypes from 'prop-types'\nimport auth from '../../reducers/auth'\n\nconst PrivateRoute = ({ component: Component, auth: {isAuthenticated, loading}, ...rest }) => {\n    return (\n        <Route {...rest} render={props => !isAuthenticated && !loading ? (<Redirect to='/login' />):(<Component {...props}/>)} />\n    )\n}\n\nPrivateRoute.prototype = {\n    auth: PropTypes.object.isRequired,\n}\n\nconst mapStateToProp = state => ({\n    auth: state.auth\n})\n\nexport default connect(mapStateToProp)(PrivateRoute)\n","import React, { Fragment, useEffect } from 'react'\nimport { connect } from 'react-redux'\nimport { loadImage } from '../actions/upload'\nimport PropTypes from 'prop-types'\nimport './displayImage.css'\n\nfunction DisplayImage({loadImage, imguri}) {\n    const imgURI = 'http://127.0.0.1:5000/static/images/'+`${imguri}`\n    return (\n        <Fragment>\n            <main>\n                <img src={imgURI}></img>\n            </main>\n        </Fragment>\n    )\n}\n\nconst mapStateToProp = state => ({\n    imguri : state.upload.imguri\n})\n\nDisplayImage.propTypes = {\n    loadImage: PropTypes.func.isRequired,\n}\n\nexport default connect(mapStateToProp, {loadImage})(DisplayImage)\n","import { IMGURI, UPLOAD_ERROR, LOAD_IMAGE, ERR_LOAD_IMG, LOGOUT } from '../actions/types'\n\nconst initialState = {\n    imguri: null\n}\n\nexport default (state=initialState, actions) => {\n    const {type, payload} = actions\n\n    switch(type) {\n        case LOAD_IMAGE:\n        case IMGURI:\n            return {\n                ...state,\n                imguri: payload.msg\n            }\n        case ERR_LOAD_IMG:\n        case UPLOAD_ERROR:\n            return {\n                ...state,\n                imguri: null\n            }\n        case LOGOUT:\n            return {\n                ...state,\n                imguri: null\n            }\n        default:\n            return state\n    }\n}","import { combineReducers } from 'redux'\nimport auth from './auth'\nimport upload from './upload'\n\nexport default combineReducers({\n    auth,\n    upload\n})","import { createStore, applyMiddleware } from 'redux'\nimport { composeWithDevTools } from 'redux-devtools-extension'\nimport thunkMiddleware from 'redux-thunk'\nimport rootReducer from './reducers'\n\nconst preloadedState = {}\nconst middlewares = [thunkMiddleware]\nconst composedEnhancer = composeWithDevTools(applyMiddleware(...middlewares))\n\nconst store = createStore(rootReducer, preloadedState, composedEnhancer)\nexport default store","import './App.css';\nimport React, { Fragment, useEffect } from 'react'\nimport Navbar from './components/Navbar';\nimport { BrowserRouter as Router, Switch, Route, Redirect } from 'react-router-dom';\nimport Login from './components/Login';\nimport Register from './components/Register';\nimport FileUpload from './components/FileUpload';\nimport PrivateRoute from './components/route/PrivateRoute'\nimport DisplayImage from './components/DisplayImage'\n//Redux\nimport { Provider } from 'react-redux'\nimport store from './store'\nimport { loadToken } from './actions/auth'\nimport { loadImage } from './actions/upload'\n\nfunction App() {\n    useEffect(() => {\n        store.dispatch(loadToken())\n        store.dispatch(loadImage())\n    }, [])\n\n    return (\n        <Provider store={store}>\n            <Fragment>\n                    <Router>\n                        <Navbar/>\n                        <Switch>\n                            <Route path='/register' component={Register} exact/>\n                            <Route path='/login' component={Login}/>\n                            <PrivateRoute path='/upload'component={FileUpload}/>\n                            <PrivateRoute path='/uploadedpic'component={DisplayImage}/>\n                            <Route render={() => <Redirect to=\"/login\" />} />\n                            {/* <Route path=\"*\" component={Register} /> */}\n                        </Switch>\n                    </Router>\n                </Fragment>\n        </Provider>\n    );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}